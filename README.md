<p align="center">
<img width="600" alt="Microsoft Active Directory Logo" src="images/active-directory-seeklogo.png" />

</p>

<h1>Group Policy and Account Management</h1>
This project continues from the previously established Active Directory Domain Services environment hosted in Microsoft Azure. The lab demonstrates how Group Policy can be used to enforce account lockout thresholds, how administrators unlock and reset accounts, and how enabling or disabling accounts impacts authentication. Additionally, system and security logs are reviewed to understand how these events are recorded on both the Domain Controller and client machines. As an additional observation, external failed login attempts were visible in Event Viewer due to Remote Desktop exposure, providing practical insight into real-world security considerations such as firewall rules and account lockout policies.

This exercise reinforces real-world administrative tasks commonly performed by IT support and system administrators in enterprise environments.<br />


<!--
<h2>Video Demonstration</h2>

- ### [YouTube: How to Deploy on-premises Active Directory within Azure Compute](https://www.youtube.com)
-->

<h2>Environments and Technologies Used</h2>

<img src="https://skillicons.dev/icons?i=azure,windows,powershell" />

- Microsoft Azure (Virtual Machines/Compute)
- Remote Desktop
- Active Directory Domain Services
- PowerShell
- Group Policy Management
- Windows Event Viewer

<h2>Operating Systems Used </h2>

- Windows Server 2022
- Windows 10 (22H2)

<h2>High-Level Deployment and Configuration Steps</h2>

<img src="images/DC and AD Diagram.gif" width="400" alt="DC and AD Diagram">


With the domain environment already established, this project simulates common account security and administration workflows within a domain environment. The process includes configuring lockout policies through Group Policy, intentionally triggering account lockouts, managing account status within Active Directory, and reviewing authentication logs on both the domain controller and client machine. The objective is to understand how policy enforcement, account state changes, and event logging interact within a Windows domain. An optional observation step includes examining external failed login attempts generated by automated internet scans, reinforcing the importance of proper firewall configuration and strong authentication practices in production environments.

**Key Actions**
- Configure account lockout policy in Group Policy Management.
- Trigger account lockout through repeated failed login attempts.
- Unlock and reset a user account in Active Directory Users and Computers.
- Disable and re-enable user accounts to observe authentication behavior.
- Review security and authentication logs on both domain controller and client machines.

> [!IMPORTANT]
> Each step includes written instructions followed by a corresponding screenshot.
<br>Expand the **See screenshots** section to view the images.


> [!NOTE] 
> This project builds upon a prior lab where the Azure environment, virtual machines, Active Directory Domain Services, and DNS configuration were initially deployed. **ADD LINK HERE**


<h2>Deployment and Configuration</h2> 

<h3>1. CONFIGURE ACCOUNT LOCKOUT POLICY </h3>
<p>Under the default configuration, users can enter an incorrect password an unlimited number of times. In this step, a lockout policy will be configured to restrict failed login attempts. Access the Group Policy Management settings on the domain controller by searching, "Group Policy Managment".  Expand forest > domain > mydomain.com, and right-click Default Domain Policy and select "Edit". </p>

<details><summary>See screenshots</summary>
<img src="images/Step 1a.PNG" width="40%" >
</details> 

<p>Expand Computer Configuration > Policies > Windows Settings > Security Settings > Account Policies, and here we'll define an Account Lockout Threshold policy to enforce automatic lockouts after 5 failed login attempts.</p>

<details><summary>See screenshots</summary>
<img src="images/Step 1b.PNG" width="40%" >
</details> 

> [!NOTE] 
> After applying settings. Observe the "Account lockout duration" and "Reset Account lockout counter after" settings change.


<h3>2. SIMULATE FAILED LOGINS AND LOCKOUT </h3>
<p>Select any username from our _EMPLOYEES OU and Remote Desktop(RDP) into "vm-client-1",intentionally enter incorrect credentials multiple times to trigger the configured lockout threshold. On "vm-dc-1", confirm the account status within Active Directory. Right-click the affected user and select "Properties", review the Account tab. Observe the checkbox and Account status "This account is currently locked out on this Active Directory Domain Controller".</p>

<details><summary>See screenshots</summary>
<p align="left"><img src="images/Step 2a.PNG" width="40%" ><img src="images/Step 2aa.PNG" width="40%" ></p>
</details> 

<h3>3. ACCOUNT RECOVERY ACTIONS </h3>
<p>Mark the checkbox to unlock the affected account, and Apply. Select "OK" to close Properties window. Next, right-click the affected user and choose “Reset Password…”. This window allows both a password reset and account unlock simultaneously; for this demonstration, no changes will be made here.

<details><summary>See screenshots</summary>
<img src="images/Step 3a.PNG" width="40%" >
</details> 

Verify the unlock by attempting to login using test user's credentials.</p>

<details><summary>See screenshots</summary>
<img src="images/Step 3b.PNG" width="40%" >
</details> 

> [!NOTE] 
> Opened PowerShell and we can see the test user is logged in. 

<h3>4. ENABLE AND DISABLE USER ACCOUNTS</h3>
<p>Temporarily disable the same user account in Active Directory, attempt authentication to observe the system response, then re-enable the account and confirm restored access.</p>

<details><summary>See screenshots</summary>
<p align="left"><img src="images/Step 4a.PNG" width="40%" ><img src="images/Step 4aa.PNG" width="40%" ></p>
</details> 

<h3>5. LOG OBSERVATION AND ANALYSIS </h3>
<p>Review authentication and security logs on the domain controller and client machine using Event Viewer to identify lockout events, failed login attempts, and account status changes. Open Event Viewer on "vm-dc-1". Expand "Windows Log", select "Security" to view the logs. Right-click "Security" and search for consecutive Audit Failures.</p>

<details><summary>See screenshots</summary>
<img src="images/Step 5a.PNG" width="40%" >
</details> 

Failed logins, fall under "Credential Validation" in the Task Category with "Audit Failure" as the Keyword. Successful logins will have "Audit Success" as the Keyword.

Open Event Viewer on our Client. As a test user, you will be denied access. Run Event Viewer as Admin, and use Jane Doe's credentials. Look for the consecutive Audit Failures.

<details><summary>See screenshots</summary>
<img src="images/Step 5b.PNG" width="40%" >
</details> 

<h3>Bonus - Observing External Authentication Attempts (Bots)</h3>

As an optional step, review the Event Viewer logs further to see a large number of consecutive Audit Failure logs. This occurs because the VM has Remote Desktop (RDP) exposed to the public internet through open ports, and with firewall restrictions disabled, automated bots continuously scan and attempt logins against any reachable system. Observing these logs highlights the importance of account lockout policies and strong authentication practices.

<details><summary>See screenshots</summary>
<img src="images/Step 5c.PNG" width="40%" >
</details>

> [!NOTE]
> From the Domain Controller VM, the username “Sales” appears because the Domain Controller is responsible for credential validation and logs the actual username submitted during each authentication attempt.

<details><summary>See screenshots</summary>
<img src="images/Step 5d.PNG" width="40%" >
</details> 

> [!NOTE]
> From the Client 1 VM, no username because the attempt was rejected early in authetication handshake.

> [!NOTE]
> The Windows Firewall was temporarily disabled in this lab to simplify connectivity and reduce rule conflicts. This is not required for Active Directory and would not be recommended in a production environment.
